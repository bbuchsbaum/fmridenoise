% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ndx_ridge.R
\name{ndx_extract_task_betas}
\alias{ndx_extract_task_betas}
\title{Extract Task-Related Beta Coefficients}
\usage{
ndx_extract_task_betas(
  betas_whitened,
  X_whitened_colnames,
  task_regressor_names,
  ar_coeffs_global = NULL,
  unwhiten = FALSE
)
}
\arguments{
\item{betas_whitened}{A matrix (total_regressors x voxels) of whitened beta coefficients,
typically the output of `ndx_solve_ridge`.}

\item{X_whitened_colnames}{A character vector of column names for the whitened design matrix (`X_whitened`)
that was used to estimate `betas_whitened`. This is used to identify task regressors by name.}

\item{task_regressor_names}{A character vector containing the names of the task regressors
to be extracted.}

\item{ar_coeffs_global}{Optional. The global AR coefficients (vector of length `order`) that were used
to whiten the design matrix `X`. If provided, a conceptual note about unwhitening can be considered.
(Currently not used for actual unwhitening).}

\item{unwhiten}{Logical, if TRUE, attempt to unwhiten betas. Default is FALSE (not yet implemented).}
}
\value{
A matrix (num_task_regressors x voxels) of the extracted task-related beta coefficients.
  Row names will correspond to `task_regressor_names`.
  If no task regressors are found or an error occurs, returns NULL or an empty matrix with a warning.
}
\description{
Extracts beta coefficients corresponding to specified task regressors from the full
set of beta coefficients. For Sprint 1, this function primarily handles extraction.
The "unwhitening" aspect is a placeholder for future refinement.
}
\details{
Unwhitening beta coefficients is complex when different whitening strategies are applied
to Y and X (e.g., voxel-wise AR for Y, global AR for X). For Sprint 1, this function
focuses on the reliable extraction of beta coefficients based on their names.
A full unwhitening procedure that transforms betas back to the scale of an unwhitened model
(Y ~ X) may require further methodological development and is deferred.
}
