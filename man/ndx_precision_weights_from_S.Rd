% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ndx_precision_weights.R
\name{ndx_precision_weights_from_S}
\alias{ndx_precision_weights_from_S}
\title{Compute Precision Weights from RPCA Sparse Matrix}
\usage{
ndx_precision_weights_from_S(S_matrix, mad_floor = 1e-06, na_zero = TRUE)
}
\arguments{
\item{S_matrix}{Numeric matrix of RPCA sparse components (timepoints x voxels).}

\item{mad_floor}{Numeric minimum value for the MAD scaling. Default 1e-6.}

\item{na_zero}{Logical; if `TRUE`, any `NA` or infinite values in
`S_matrix` are treated as zero (yielding a weight of one). Default `TRUE`.}
}
\value{
Numeric matrix of precision weights with the same dimensions as
  `S_matrix`.
}
\description{
Given the sparse component matrix `S_matrix` from RPCA, this helper
constructs precision weights that down-weight timepoints with large
spike amplitudes.
}
